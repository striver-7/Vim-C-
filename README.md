# Vim 编辑器在 C 语言开发中的常用命令

## 🧭 Vim 编辑模式

Vim 主要有三种模式：

- **普通模式（Normal Mode）**：启动 Vim 后默认进入此模式，用于导航和执行命令。
- **插入模式（Insert Mode）**：按 `i` 进入，用于输入文本。
- **命令行模式（Command-Line Mode）**：按 `:` 进入，用于执行保存、退出等命令。

---

## ✍️ 编辑与导航

- **进入插入模式**：按 `i`。
- **保存并退出**：在命令行模式下输入 `:wq`，然后按回车键。
- **退出不保存**：在命令行模式下输入 `:q!`，然后按回车键。
- **删除当前行**：在普通模式下按 `dd`。
- **删除当前字符**：在普通模式下按 `x`。
- **撤销更改**：在普通模式下按 `u`。
- **重做更改**：在普通模式下按 `Ctrl + r`。
- **跳转到行首**：在普通模式下按 `0`。
- **跳转到行尾**：在普通模式下按 `$`。

---

## ✍️ 快速换行

- **在当前行下方插入新行并进入插入模式：**
  - `o`
  - 此命令将在当前行下方插入一行，并自动进入插入模式。

- **在当前行上方插入新行并进入插入模式：**
  - `O`
  - 此命令将在当前行上方插入一行，并自动进入插入模式。

这两个命令适用于普通模式，按下 `Esc` 键可确保处于普通模式。

---
## 🧭 快速定位行首和行尾

- **跳转到当前行的行首：**
  - `0` 或 `^`
  - `0` 将光标移动到当前行的第一个字符位置，
  - `^` 将光标移动到当前行第一个非空白字符的位置。 ([Vim快速移动光标至行首和行尾、第一行和最后一行转载 - CSDN博客](https://blog.csdn.net/varyall/article/details/79220745?utm_source=chatgpt.com), [Vim快捷键大全(转) - Quintinz - 博客园](https://www.cnblogs.com/kanekiken/p/15624026.html?utm_source=chatgpt.com))

- **跳转到当前行的行尾：**
  - `$`
  - 此命令将光标移动到当前行的最后一个字符位置。

- **跳转到文件的第一行：**
  - `gg`
  - 此命令将光标移动到文件的第一行。

- **跳转到文件的最后一行：**
  - `G`
  - 此命令将光标移动到文件的最后一行。 ([vim编辑器学习之《vim编辑命令快捷键》 - 爱E族](https://aiezu.com/article/vim_shortcut_keys.html?utm_source=chatgpt.com))

这些命令均在普通模式下使用，按下 `Esc` 键可确保处于普通模式。

---

## 🔄 快速编辑行首和行尾

- **在当前行的行首进入插入模式：**
  - `I`
  - 此命令将光标移动到当前行的第一个非空白字符位置，并进入插入模式。 ([Vim快捷键大全(转) - Quintinz - 博客园](https://www.cnblogs.com/kanekiken/p/15624026.html?utm_source=chatgpt.com))

- **在当前行的行尾进入插入模式：**
  - `A`
  - 此命令将光标移动到当前行的最后一个字符位置，并进入插入模式。

- **在当前行的行尾插入新行并进入插入模式：**
  - `o`
  - 此命令将在当前行下方插入一行，并自动进入插入模式。

- **在当前行的行首插入新行并进入插入模式：**
  - `O`
  - 此命令将在当前行上方插入一行，并自动进入插入模式。

这些命令同样适用于普通模式，按下 `Esc` 键可确保处于普通模式。

---

## 🧩 高级功能

- **跳转到匹配括号**：在普通模式下将光标放在括号上，按 `%`。
- **跳转到函数定义**：在普通模式下将光标放在函数名上，按 `Ctrl + ]`。
- **查看函数定义**：在命令行模式下输入 `:tag function_name`，然后按回车键。
- **使用 ctags 生成标签文件**：在终端中运行 `ctags -R`，然后在 Vim 中使用 `Ctrl + ]` 跳转到函数定义。

---

## 🧹 清理构建文件

在 Makefile 中，通常会定义一个 `clean` 目标，用于删除编译过程中生成的文件，保持工作目录干净：

```makefile
clean:
	rm -f $(OBJS) main
```

执行 `make clean` 时，会删除所有目标文件和可执行文件。

---


## 🧹 删除多行的常用方法


- 在执行删除操作之前，建议先使用 `:set number` 显示行号，以确保删除正确的行。
- 删除操作是不可逆的，除非您在删除前已保存备份。
- 如果误删了内容，可以按 `u` 撤销操作。
### 1. 删除当前行及以下的多行

- **命令格式：** `Ndd`
- **示例：** `5dd`
  - 此命令将从当前行开始，删除包括当前行在内的 5 行。
  - 例如，光标位于第 3 行，执行 `5dd` 后，第 3 至第 7 行将被删除。

### 2. 删除指定范围的行

- **命令格式：** `:start,end d`
- **示例：** `:3,7d`
  - 此命令将删除从第 3 行到第 7 行的所有内容。
  - 您也可以使用 `$` 表示最后一行，例如 `:3,$d` 删除从第 3 行到最后一行的内容。 

### 3. 删除当前行之前的所有行

- **命令格式：** `:1,.d`
- **示例：** `:1,.d`
  - 此命令将删除从文件开头到当前行的所有内容。 

### 4. 删除当前行之后的所有行

- **命令格式：** `:.,$d`
- **示例：** `:.,$d`
  - 此命令将删除从当前行到文件末尾的所有内容。

### 5. 删除包含特定模式的行

- **命令格式：** `:g/pattern/d`
- **示例：** `:g/foo/d`
  - 此命令将删除所有包含 "foo" 的行。
  - 如果要删除不包含特定模式的行，可以使用 `:g!/pattern/d`。
   
---
